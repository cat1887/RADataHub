{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
      "url": "https://raw.githubusercontent.com/JamesFKean/RA_Summer/main/data/ch5_X_inflation_1920sv2.csv"
    },
    "transform": [
      {
        "calculate": "datum['Annual Percent Change']/100",
        "as": "Annual Percent Change"
      }
    ],
    "title": {"text": "US Prices, 1900-1930", "subtitle":["Consumer Price Index, and its annual change. Base year 1967.", "Source: Minneapolis Fed."], "subtitleFontStyle": "italic", "subtitleFontSize": 12, "fontSize": 16},
    "vconcat": [
      {
        "height": 200,
        "width": 500,
        "layer": [
          {
            "mark": {"type": "line", "color": "rgb(128,0,0)"},
            "encoding": {
              "x": {
                "type": "temporal",
                "field": "Year",
                "axis": {
                  "domain": false,
                  "ticks": false,
                  "grid": false,
                  "title": null,
                  "labelPadding": 5,
                  "labelFontSize": 11
                }
              },
              "y": {
                "field": "Annual Average Index",
                "type": "quantitative",
                "axis": {
                  "domain": false,
                  "ticks": false,
                  "labelPadding": 5,
                  "labelFontSize": 11,
                  "titlePadding": 5,
                  "title": null,
                  "gridOpacity": 0.3
                }
              }
            }
          },
          {
            "mark": {"type": "rule", "strokeDash": [3,5]},
            "data": {
        "values": [
          {"date": "01 Jan 1928 14:15:00"}
         
        ],
        "format": {
          "parse": {"date": "utc:'%d %b %Y %H:%M:%S'"}
        }
      },
            "encoding": {
              "x": { "field": "date", "type": "temporal"},
              
              "color": {"value": "red"},
              "opacity": {"value": 1}
            }
          },
          {
            "mark": {"type": "text", "text": ["Federval Reserve", "increases interest rates."]},
            "data": {
        "values": [
          {"date": "01 Apr 1924 14:15:00"}
         
        ],
        "format": {
          "parse": {"date": "utc:'%d %b %Y %H:%M:%S'"}
        }
      },
            "encoding": {
              "x": { "field": "date", "type": "temporal"},
              "color": {"value": "black"},
              "opacity": {"value": 1}
            }
          }
        ]
      },
      {
        "height": 100,
        "width": 500,
        "mark": {"type": "bar", "color": "rgb(128,0,0)"},
        "encoding": {
          "x": {
            "field": "Year",
            "type": "temporal",
            "axis": {
              "domain": false,
              "ticks": false,
              "grid": false,
              "title": null,
              "labelPadding": 5,
              "labelFontSize": 11
            }
          },
          "y": {
            "field": "Annual Percent Change",
            "type": "quantitative",
            "axis": {
              "domain": false,
              "ticks": false,
              "labelPadding": 5,
              "labelFontSize": 11,
              "titlePadding": 5,
              "format": ".0%",
              "title": null,
              
             
              "gridOpacity":  0.3
              
            }
          }
        }
      }
    ]
  }